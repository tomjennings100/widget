<head>
  <title>Widget Queue</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
</head>

<body>
<div class="container">
	<nav class="navbar navbar-inverse navbar-fixed-top">
	  <div class="container-fluid">
	    <div class="navbar-header">
	      <a class="navbar-brand" href="#">Widget Queue</a>
	    </div>
	    <div>
	      <ul class="nav navbar-nav">
	        <li class="active"><a href="#">Widgets</a></li>
	        <li><a href="#">Users</a></li>
	        <li><a href="#">Add Widgets</a></li>  
	      </ul>
	    </div>
	  </div>
	</nav>
	{{> widgetAdd}}
	{{> widgetTable}}

	</div>
	{{> notifications}}

</body>

<template name="task">
	<tr class="{{#if checked}} success checked{{/if}}">
		<td> {{text}} </td>
		<td>{{client}}</td>
		<td>{{createdAt}}</td>
		<td><strong>{{username}}</strong></td>
		<td><input type="checkbox" checked="{{checked}}" class="toggle-checked" /></td>
		<td><button class="delete">&times;</button></td>
	</tr>
</template>

<template name="widgetAdd">
	<div class="row">
		<div class="col-md-12">
			<header>
				<h1>Widgets ({{incompleteTasks}})</h1>
				{{#if currentUser}}
				<form name="widgetform"  class="new-widget">
					
					<div class="form-group">
						<label for="widget">Widget title</label>
						<input class="form-control" type="text" name="widgetName" id="widget" placeholder="add new widget"/>
					</div>

					<div class="form-group">
						<label for="client">Client</label>
						<input class="form-control" type="text" id="client" name="client" placeholder="client"/>
					</div>
					<button type="submit">Submit</button>
				</form>
				{{/if}}
			</header>
		</div>
	</div>
</template>

<template name="widgetTable">
	<div class="row">
			<div class="col-md-12">
				<table class="table table-striped">
					<thead>
						<tr>
							<td>Widget Name</td>
							<td>Client Name</td>
							<td>Created at</td>
							<td>Owner</td>
							<td>Done</td>
							<td>Delete</td>
						</tr>
					</thead>
	
					<tbody>
						{{#each tasks}}
							{{> task}}
						{{/each}}
					</tbody>
				</table>
			<label class="hide-completed">
			  <input type="checkbox" checked="{{hideCompleted}}" />
			  Hide Completed Tasks
			</label>
		</div>
	</div>
</template>